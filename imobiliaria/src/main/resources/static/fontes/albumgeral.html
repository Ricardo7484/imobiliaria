<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
    <meta name="generator" content="Hugo 0.88.1">
    <title>Álbum de Imóveis</title>

    <link rel="canonical" href="https://getbootstrap.com/docs/5.1/examples/album/">

    <!-- Bootstrap core CSS -->
    <link href="../css/bootstrap.min.css" rel="stylesheet">
    <link href="../css/dataTables.min.css" rel="stylesheet">


    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/bs5/dt-1.10.25/af-2.3.7/date-1.1.0/r-2.2.9/rg-1.1.3/sc-2.0.4/sp-1.3.0/datatables.min.css"/>


    <style>
        .bd-placeholder-img {
            font-size: 1.125rem;
            text-anchor: middle;
            -webkit-user-select: none;
            -moz-user-select: none;
            user-select: none;
        }

        @media (min-width: 768px) {
            .bd-placeholder-img-lg {
                font-size: 3.5rem;
            }
        }
    </style>

</head>
<body>

<header class="p-3 bg-dark text-white fixed-top">
    <div class="container-fluid">
        <div class="d-flex flex-wrap align-items-center justify-content-center justify-content-lg-start">
            <a href="/" class="d-flex align-items-center mb-2 mb-lg-0 text-white text-decoration-none">
                <svg class="bi me-2" width="40" height="32" role="img" aria-label="Bootstrap"><use xlink:href="#bootstrap"/></svg>
            </a>
            <ul class="nav col-12 col-lg-auto me-lg-auto mb-2 justify-content-center mb-md-0">
                <li><a href="principal.html" class="nav-link px-2 text-white">Imobiliária</a></li>
                <li><a href="albumgeral.html" class="nav-link px-2 text-white">Comprar</a></li>
                <li><a href="albumgeral.html" class="nav-link px-2 text-white">Alugar</a></li>
                <li><a href="albumgeral.html" class="nav-link px-2 text-white">Ofertas</a></li>
                <li><a href="contato.html" class="nav-link px-2 text-white">Contato</a></li>
            </ul>
            <div class="text-end">
                <a class="btn btn-warning" href="login.html" role="button">Login</a>
            </div>
        </div>
    </div>
</header>

<main>
    teste
    <div class="b-example-divider"></div>
    <div class="album py-5 bg-light">
        <div class="container">
            <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3">
                <div class="col">
                    <div class="card shadow-sm">
                        <img src="../imagens/casa1.jpg" class="card-img-top" alt="...">
                        <!--<svg class="bd-placeholder-img card-img-top" width="100%" height="225" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: Thumbnail" preserveAspectRatio="xMidYMid slice" focusable="false"><title>Placeholder</title><rect width="100%" height="100%" fill="#55595c"/><text x="50%" y="50%" fill="#eceeef" dy=".3em">Thumbnail</text></svg>-->
                        <div class="card-body">
                            <p class="card-text">This is a wider card with supporting text below as a natural lead-in to
                                additional content. This content is a little bit longer.</p>
                            <div class="d-flex justify-content-between align-items-center">
                                <div class="btn-group">
                                    <a href="albumespecifico.html" class="btn btn-sm btn-outline-dark">Visualizar</a>
                                </div>
                                <small class="text-muted">9 mins</small>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col">
                    <div class="card shadow-sm">
                        <img src="../imagens/casa2.jpg" class="card-img-top" alt="...">
                        <div class="card-body">
                            <!--<p class="card-text">This is a wider card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.</p>-->
                            <p class="card-text">R$ 350.000,00</p>
                            <p class="card-text">Bairro Centro</p>
                            <div class="d-flex justify-content-between align-items-center">
                                <div class="btn-group">
                                    <a href="albumespecifico.html" class="btn btn-sm btn-outline-dark">Visualizar</a>
                                </div>
                                <small class="text-muted">9 mins</small>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col">
                    <div class="card shadow-sm">
                        <img src="../imagens/casa3.jpg" class="card-img-top" alt="...">
                        <div class="card-body">
                            <p class="card-text">This is a wider card with supporting text below as a natural lead-in to
                                additional content. This content is a little bit longer.</p>
                            <div class="d-flex justify-content-between align-items-center">
                                <div class="btn-group">
                                    <a href="albumespecifico.html" class="btn btn-sm btn-outline-dark">Visualizar</a>
                                </div>
                                <small class="text-muted">9 mins</small>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col">
                    <div class="card shadow-sm">
                        <svg class="bd-placeholder-img card-img-top" width="100%" height="225"
                             xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: Thumbnail"
                             preserveAspectRatio="xMidYMid slice" focusable="false"><title>Placeholder</title>
                            <rect width="100%" height="100%" fill="#55595c"/>
                            <text x="50%" y="50%" fill="#eceeef" dy=".3em">Thumbnail</text>
                        </svg>
                        <div class="card-body">
                            <p class="card-text">This is a wider card with supporting text below as a natural lead-in to
                                additional content. This content is a little bit longer.</p>
                            <div class="d-flex justify-content-between align-items-center">
                                <div class="btn-group">
                                    <a href="albumespecifico.html" class="btn btn-sm btn-outline-dark">Visualizar</a>
                                </div>
                                <small class="text-muted">9 mins</small>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col">
                    <div class="card shadow-sm">
                        <svg class="bd-placeholder-img card-img-top" width="100%" height="225"
                             xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: Thumbnail"
                             preserveAspectRatio="xMidYMid slice" focusable="false"><title>Placeholder</title>
                            <rect width="100%" height="100%" fill="#55595c"/>
                            <text x="50%" y="50%" fill="#eceeef" dy=".3em">Thumbnail</text>
                        </svg>
                        <div class="card-body">
                            <p class="card-text">This is a wider card with supporting text below as a natural lead-in to
                                additional content. This content is a little bit longer.</p>
                            <div class="d-flex justify-content-between align-items-center">
                                <div class="btn-group">
                                    <a href="albumespecifico.html" class="btn btn-sm btn-outline-dark">Visualizar</a>
                                </div>
                                <small class="text-muted">9 mins</small>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col">
                    <div class="card shadow-sm">
                        <svg class="bd-placeholder-img card-img-top" width="100%" height="225"
                             xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: Thumbnail"
                             preserveAspectRatio="xMidYMid slice" focusable="false"><title>Placeholder</title>
                            <rect width="100%" height="100%" fill="#55595c"/>
                            <text x="50%" y="50%" fill="#eceeef" dy=".3em">Thumbnail</text>
                        </svg>
                        <div class="card-body">
                            <p class="card-text">This is a wider card with supporting text below as a natural lead-in to
                                additional content. This content is a little bit longer.</p>
                            <div class="d-flex justify-content-between align-items-center">
                                <div class="btn-group">
                                    <a href="albumespecifico.html" class="btn btn-sm btn-outline-dark">Visualizar</a>
                                </div>
                                <small class="text-muted">9 mins</small>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col">
                    <div class="card shadow-sm">
                        <svg class="bd-placeholder-img card-img-top" width="100%" height="225"
                             xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: Thumbnail"
                             preserveAspectRatio="xMidYMid slice" focusable="false"><title>Placeholder</title>
                            <rect width="100%" height="100%" fill="#55595c"/>
                            <text x="50%" y="50%" fill="#eceeef" dy=".3em">Thumbnail</text>
                        </svg>
                        <div class="card-body">
                            <p class="card-text">This is a wider card with supporting text below as a natural lead-in to
                                additional content. This content is a little bit longer.</p>
                            <div class="d-flex justify-content-between align-items-center">
                                <div class="btn-group">
                                    <a href="albumespecifico.html" class="btn btn-sm btn-outline-dark">Visualizar</a>
                                </div>
                                <small class="text-muted">9 mins</small>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col">
                    <div class="card shadow-sm">
                        <svg class="bd-placeholder-img card-img-top" width="100%" height="225"
                             xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: Thumbnail"
                             preserveAspectRatio="xMidYMid slice" focusable="false"><title>Placeholder</title>
                            <rect width="100%" height="100%" fill="#55595c"/>
                            <text x="50%" y="50%" fill="#eceeef" dy=".3em">Thumbnail</text>
                        </svg>
                        <div class="card-body">
                            <p class="card-text">This is a wider card with supporting text below as a natural lead-in to
                                additional content. This content is a little bit longer.</p>
                            <div class="d-flex justify-content-between align-items-center">
                                <div class="btn-group">
                                    <a href="albumespecifico.html" class="btn btn-sm btn-outline-dark">Visualizar</a>
                                </div>
                                <small class="text-muted">9 mins</small>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col">
                    <div class="card shadow-sm">
                        <svg class="bd-placeholder-img card-img-top" width="100%" height="225"
                             xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: Thumbnail"
                             preserveAspectRatio="xMidYMid slice" focusable="false"><title>Placeholder</title>
                            <rect width="100%" height="100%" fill="#55595c"/>
                            <text x="50%" y="50%" fill="#eceeef" dy=".3em">Thumbnail</text>
                        </svg>
                        <div class="card-body">
                            <p class="card-text">This is a wider card with supporting text below as a natural lead-in to
                                additional content. This content is a little bit longer.</p>
                            <div class="d-flex justify-content-between align-items-center">
                                <div class="btn-group">
                                    <a href="albumespecifico.html" class="btn btn-sm btn-outline-dark">Visualizar</a>
                                </div>
                                <small class="text-muted">9 mins</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>



    <div class="container-fluid">
        <h2 class="text-center">Welcome to Datatable</h2>
        <p class="datatable design text-center">Welcome to Datatable</p>
        <div class="row">
            <div class="container">
                <div class="btnAdd">
                    <a href="#!" data-id="" data-bs-toggle="modal" data-bs-target="#addUserModal"   class="btn btn-success btn-sm" >Add User</a>
                </div>
                <div class="row">
                    <div class="col-md-2"></div>
                    <div class="col-md-8">
                        <table id="example" class="table">
                            <thead>
                            <th>Id</th>
                            <th>Name</th>
                            <th>Email</th>
                            <th>Mobile</th>
                            <th>City</th>
                            <th>Options</th>
                            </thead>
                            <tbody>
                            </tbody>
                        </table>
                    </div>
                    <div class="col-md-2"></div>
                </div>
            </div>
        </div>
    </div>
    <!-- Optional JavaScript; choose one of the two! -->
    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4" crossorigin="anonymous"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/v/bs5/dt-1.10.25/af-2.3.7/date-1.1.0/r-2.2.9/rg-1.1.3/sc-2.0.4/sp-1.3.0/datatables.min.js"></script>
    <!-- Option 2: Separate Popper and Bootstrap JS -->
    <!--
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.min.js" integrity="sha384-Atwg2Pkwv9vp0ygtn1JAojH0nYbwNJLPhwyoVbhoPwBhjQPR5VtM2+xf0Uwh9KtT" crossorigin="anonymous"></script>
  -->
    <script type="text/javascript">
        $(document).ready(function() {
            $('#example').DataTable({
                "fnCreatedRow": function( nRow, aData, iDataIndex ) {
                    $(nRow).attr('id', aData[0]);
                },
                'serverSide':'true',
                'processing':'true',
                'paging':'true',
                'order':[],
                'ajax': {
                    'url':'fetch_data.php',
                    'type':'post',
                },
                "columnDefs": [{
                    'target':[5],
                    'orderable' :false,
                }]
            });
        } );
        $(document).on('submit','#addUser',function(e){
            e.preventDefault();
            var city= $('#addCityField').val();
            var username= $('#addUserField').val();
            var mobile= $('#addMobileField').val();
            var email= $('#addEmailField').val();
            if(city != '' && username != '' && mobile != '' && email != '' )
            {
                $.ajax({
                    url:"add_user.php",
                    type:"post",
                    data:{city:city,username:username,mobile:mobile,email:email},
                    success:function(data)
                    {
                        var json = JSON.parse(data);
                        var status = json.status;
                        if(status=='true')
                        {
                            mytable =$('#example').DataTable();
                            mytable.draw();
                            $('#addUserModal').modal('hide');
                        }
                        else
                        {
                            alert('failed');
                        }
                    }
                });
            }
            else {
                alert('Fill all the required fields');
            }
        });
        $(document).on('submit','#updateUser',function(e){
            e.preventDefault();
            //var tr = $(this).closest('tr');
            var city= $('#cityField').val();
            var username= $('#nameField').val();
            var mobile= $('#mobileField').val();
            var email= $('#emailField').val();
            var trid= $('#trid').val();
            var id= $('#id').val();
            if(city != '' && username != '' && mobile != '' && email != '' )
            {
                $.ajax({
                    url:"update_user.php",
                    type:"post",
                    data:{city:city,username:username,mobile:mobile,email:email,id:id},
                    success:function(data)
                    {
                        var json = JSON.parse(data);
                        var status = json.status;
                        if(status=='true')
                        {
                            table =$('#example').DataTable();
                            // table.cell(parseInt(trid) - 1,0).data(id);
                            // table.cell(parseInt(trid) - 1,1).data(username);
                            // table.cell(parseInt(trid) - 1,2).data(email);
                            // table.cell(parseInt(trid) - 1,3).data(mobile);
                            // table.cell(parseInt(trid) - 1,4).data(city);
                            var button =   '<td><a href="javascript:void();" data-id="' +id + '" class="btn btn-info btn-sm editbtn">Edit</a>  <a href="#!" data-bs-toggle="modal" data-id="' +id + '" data-bs-target="#exampleModal" class="btn btn-danger btn-sm">Delete</a></td>';
                            var row = table.row("[id='"+trid+"']");
                            row.row("[id='" + trid + "']").data([id,username,email,mobile,city,button]);
                            $('#exampleModal').modal('hide');
                        }
                        else
                        {
                            alert('failed');
                        }
                    }
                });
            }
            else {
                alert('Fill all the required fields');
            }
        });
        $('#example').on('click','.editbtn ',function(event){
            var table = $('#example').DataTable();
            var trid = $(this).closest('tr').attr('id');
            // console.log(selectedRow);
            var id = $(this).data('id');
            $('#exampleModal').modal('show');

            $.ajax({
                url:"get_single_data.php",
                data:{id:id},
                type:'post',
                success:function(data)
                {
                    var json = JSON.parse(data);
                    $('#nameField').val(json.username);
                    $('#emailField').val(json.email);
                    $('#mobileField').val(json.mobile);
                    $('#cityField').val(json.city);
                    $('#id').val(id);
                    $('#trid').val(trid);
                }
            })
        });

        $(document).on('click','.deleteBtn',function(event){
            var table = $('#example').DataTable();
            event.preventDefault();
            var id = $(this).data('id');
            if(confirm("Are you sure want to delete this User ? "))
            {
                $.ajax({
                    url:"delete_user.php",
                    data:{id:id},
                    type:"post",
                    success:function(data)
                    {
                        var json = JSON.parse(data);
                        status = json.status;
                        if(status=='success')
                        {
                            //table.fnDeleteRow( table.$('#' + id)[0] );
                            //$("#example tbody").find(id).remove();
                            //table.row($(this).closest("tr")) .remove();
                            $("#"+id).closest('tr').remove();
                        }
                        else
                        {
                            alert('Failed');
                            return;
                        }
                    }
                });
            }
            else
            {
                return null;
            }



        })
    </script>
    <!-- Modal -->
    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Update User</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="updateUser" >
                        <input type="hidden" name="id" id="id" value="">
                        <input type="hidden" name="trid" id="trid" value="">
                        <div class="mb-3 row">
                            <label for="nameField" class="col-md-3 form-label">Name</label>
                            <div class="col-md-9">
                                <input type="text" class="form-control" id="nameField" name="name" >
                            </div>
                        </div>
                        <div class="mb-3 row">
                            <label for="emailField" class="col-md-3 form-label">Email</label>
                            <div class="col-md-9">
                                <input type="email" class="form-control" id="emailField" name="email">
                            </div>
                        </div>
                        <div class="mb-3 row">
                            <label for="mobileField" class="col-md-3 form-label">Mobile</label>
                            <div class="col-md-9">
                                <input type="text" class="form-control" id="mobileField" name="mobile">
                            </div>
                        </div>
                        <div class="mb-3 row">
                            <label for="cityField" class="col-md-3 form-label">City</label>
                            <div class="col-md-9">
                                <input type="text" class="form-control" id="cityField" name="City">
                            </div>
                        </div>
                        <div class="text-center">
                            <button type="submit" class="btn btn-primary">Submit</button>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button"  class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <!-- Add user Modal -->
    <div class="modal fade" id="addUserModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Add User</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="addUser" action="">
                        <div class="mb-3 row">
                            <label for="addUserField" class="col-md-3 form-label">Name</label>
                            <div class="col-md-9">
                                <input type="text" class="form-control" id="addUserField" name="name" >
                            </div>
                        </div>
                        <div class="mb-3 row">
                            <label for="addEmailField" class="col-md-3 form-label">Email</label>
                            <div class="col-md-9">
                                <input type="email" class="form-control" id="addEmailField" name="email">
                            </div>
                        </div>
                        <div class="mb-3 row">
                            <label for="addMobileField" class="col-md-3 form-label">Mobile</label>
                            <div class="col-md-9">
                                <input type="text" class="form-control" id="addMobileField" name="mobile">
                            </div>
                        </div>
                        <div class="mb-3 row">
                            <label for="addCityField" class="col-md-3 form-label">City</label>
                            <div class="col-md-9">
                                <input type="text" class="form-control" id="addCityField" name="City">
                            </div>
                        </div>
                        <div class="text-center">
                            <button type="submit" class="btn btn-primary">Submit</button>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <!--

    <div class="container mb-5 mt-3">
        <table class="table table-striped table-bordered mydatatable" style="width: 100%">
            <thead>
            <tr>
                <th colspan="1" rowspan="2">Name</th>
                <th colspan="2">HR Information</th>
                <th colspan="3">Contact</th>
            </tr>
            <tr>
                <th>Name</th>
                <th>Position</th>
                <th>Office</th>
                <th>Age</th>
                <th>Start date</th>
                <th>Salary</th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <th>Ricardo</th>
                <th>Estudante</th>
                <th>Rio Grande do Sul</th>
                <th>37</th>
                <th>2021/10/13</th>
                <th>3200,90</th>
            </tr>
            </tbody>
            <tfoot>
            <tr>
                <th>Ricardo2</th>
                <th>Estudante2</th>
                <th>Rio Grande do Sul2</th>
                <th>38</th>
                <th>2021/10/13</th>
                <th>3200,90</th>
            </tr>
            </tfoot>
        </table>
    </div>


    <footer class="my-1 pt-1 text-muted text-center text-small"></footer>
</main>

<script src="../js/bootstrap.bundle.min.js"></script>
<script src="../js/jquery-3.3.1.min.js"></script>
<script src="../js/popper.min.js"></script>
<script src="../js/bootstrap.min.js"></script>
<script src="../js/jquery.dataTables.min.js"></script>
<script src="../js/dataTables.bootstrap4.min.js"></script>
<script>
    $('.mydatatable').DataTable();
        order: [[3, 'desc']],
            pagingType: 'full_numbers'
</script>


-->


</body>
</html>


<script type="text/javascript">
    //var table = $('#example').DataTable();
</script>

<!--https://youtu.be/yGBk9Nalyq8-->